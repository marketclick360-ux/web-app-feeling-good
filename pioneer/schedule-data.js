// Weekly Meeting Schedule Data - Auto-generated from jw.org
// This file contains midweek and weekend meeting info that auto-updates based on current week

const MEETING_SCHEDULE = [
  {
    startDate: "2026-01-05",
    endDate: "2026-01-11",
    weekLabel: "January 5-11, 2026",
    bibleReading: "Isaiah 17-19",
    theme: "Jehovah's Purpose Will Be Fulfilled",
    scripture: "\"Jehovah of armies has sworn: 'Just as I have intended, so it will be, and just as I have decided, that is what will come true.'\"—Isaiah 14:24",
    treasuresTalk: "Jehovah's Purpose Cannot Be Thwarted",
    focusScripture: "\"Trust in Jehovah with all your heart, and do not rely on your own understanding.\"—Proverbs 3:5",
    watchtowerArticle: "Maintain Your Joy in Old Age",
    watchtowerUrl: "https://www.jw.org/en/library/magazines/watchtower-study-november-2025/Maintain-Your-Joy-in-Old-Age/",
    workbookUrl: "https://www.jw.org/en/library/jw-meeting-workbook/january-february-2026-mwb/Life-and-Ministry-Meeting-Schedule-for-January-5-11-2026/"
  },
  {
    startDate: "2026-01-12",
    endDate: "2026-01-18",
    weekLabel: "January 12-18, 2026",
    bibleReading: "Isaiah 20-23",
    theme: "Stay Watchful and Alert",
    scripture: "\"Watchman, what about the night? Watchman, what about the night?\"—Isaiah 21:11",
    treasuresTalk: "Be a Watchman in These Last Days",
    focusScripture: "\"Let us not give up in doing what is fine, for in due time we will reap if we do not tire out.\"—Galatians 6:9",
    watchtowerArticle: "Maintain Your Joy as a Caregiver",
    watchtowerUrl: "https://www.jw.org/en/library/magazines/watchtower-study-november-2025/Maintain-Your-Joy-as-a-Caregiver/",
    workbookUrl: "https://www.jw.org/en/library/jw-meeting-workbook/january-february-2026-mwb/Life-and-Ministry-Meeting-Schedule-for-January-12-18-2026/"
  },
  {
    startDate: "2026-01-19",
    endDate: "2026-01-25",
    weekLabel: "January 19-25, 2026",
    bibleReading: "Isaiah 24-27",
    theme: "Look! This Is Our God!",
    scripture: "\"In that day one will say: 'Look! This is our God! We have hoped in him, and he will save us.'\"—Isaiah 25:9",
    treasuresTalk: "Look! This Is Our God!",
    focusScripture: "\"Be courageous and strong. Do not be struck with terror or fear, for Jehovah your God is with you wherever you go.\"—Joshua 1:9",
    watchtowerArticle: "Consider Our Sympathetic High Priest—Jesus",
    watchtowerUrl: "https://www.jw.org/en/library/magazines/watchtower-study-november-2025/Consider-Our-Sympathetic-High-Priest-Jesus/",
    workbookUrl: "https://www.jw.org/en/library/jw-meeting-workbook/january-february-2026-mwb/Life-and-Ministry-Meeting-Schedule-for-January-19-25-2026/"
  },
  {
    startDate: "2026-01-26",
    endDate: "2026-02-01",
    weekLabel: "January 26–February 1, 2026",
    bibleReading: "Isaiah 28-29",
    theme: "Jehovah Will Help His People",
    scripture: "\"Trust in Jehovah forever, for Jah Jehovah is the eternal Rock.\"—Isaiah 26:4",
    treasuresTalk: "Trust in Jehovah Forever",
    focusScripture: "\"Commit to Jehovah whatever you do, and your plans will succeed.\"—Proverbs 16:3",
    watchtowerArticle: "\"You Are Someone Very Precious\"!",
    watchtowerUrl: "https://www.jw.org/en/library/magazines/watchtower-study-november-2025/You-Are-Someone-Very-Precious/",
    workbookUrl: "https://www.jw.org/en/library/jw-meeting-workbook/january-february-2026-mwb/Life-and-Ministry-Meeting-Schedule-for-January-26-February-1-2026/"
  },
  {
    startDate: "2026-02-02",
    endDate: "2026-02-08",
    weekLabel: "February 2-8, 2026",
    bibleReading: "Isaiah 30-32",
    theme: "The Result of True Righteousness Will Be Peace",
    scripture: "\"The result of true righteousness will be peace, and the fruitage of true righteousness will be lasting tranquility and security.\"—Isaiah 32:17",
    treasuresTalk: "Find Refuge Under Jehovah's Wings",
    focusScripture: "\"I can do all things through the one who gives me power.\"—Philippians 4:13",
    watchtowerArticle: "The Book of Job Can Help You When You Suffer",
    watchtowerUrl: "https://www.jw.org/en/library/magazines/watchtower-study-december-2025/The-Book-of-Job-Can-Help-You-When-You-Suffer/",
    workbookUrl: "https://www.jw.org/en/library/jw-meeting-workbook/january-february-2026-mwb/Life-and-Ministry-Meeting-Schedule-for-February-2-8-2026/"
  },
  {
    startDate: "2026-02-09",
    endDate: "2026-02-15",
    weekLabel: "February 9-15, 2026",
    bibleReading: "Isaiah 33-35",
    theme: "He Is the Stability of Your Times",
    scripture: "\"He is the stability of your times, an abundance of salvation, wisdom, and knowledge.\"—Isaiah 33:6",
    treasuresTalk: "\"He Is the Stability of Your Times\"",
    focusScripture: "\"Jehovah is near to all those calling on him, to all who call on him in truth.\"—Psalm 145:18",
    watchtowerArticle: "The Book of Job Can Help You When You Give Counsel",
    watchtowerUrl: "https://www.jw.org/en/library/magazines/watchtower-study-december-2025/The-Book-of-Job-Can-Help-You-When-You-Give-Counsel/",
    workbookUrl: "https://www.jw.org/en/library/jw-meeting-workbook/january-february-2026-mwb/Life-and-Ministry-Meeting-Schedule-for-February-9-15-2026/"
  },
  {
    startDate: "2026-02-16",
    endDate: "2026-02-22",
    weekLabel: "February 16-22, 2026",
    bibleReading: "Isaiah 36-37",
    theme: "Jehovah Will Defend His People",
    scripture: "\"I will defend this city and save it for my own sake and for the sake of my servant David.\"—Isaiah 37:35",
    treasuresTalk: "Jehovah Will Defend His People",
    focusScripture: "\"Throw your burden on Jehovah, and he will sustain you. Never will he allow the righteous one to fall.\"—Psalm 55:22",
    watchtowerArticle: "Imitate Jehovah's Humility",
    watchtowerUrl: "https://www.jw.org/en/library/magazines/watchtower-study-december-2025/Imitate-Jehovahs-Humility/",
    workbookUrl: "https://www.jw.org/en/library/jw-meeting-workbook/january-february-2026-mwb/Life-and-Ministry-Meeting-Schedule-for-February-16-22-2026/"
  },
  {
    startDate: "2026-02-23",
    endDate: "2026-03-01",
    weekLabel: "February 23–March 1, 2026",
    bibleReading: "Isaiah 38-40",
    theme: "Those Hoping in Jehovah Will Regain Power",
    scripture: "\"Those hoping in Jehovah will regain power. They will soar on wings like eagles.\"—Isaiah 40:31",
    treasuresTalk: "Those Hoping in Jehovah Will Regain Power",
    focusScripture: "\"You will keep in perfect peace the one whose mind is steadfast, because he trusts in you.\"—Isaiah 26:3",
    watchtowerArticle: "How to Plan a Wedding That Brings Honor to Jehovah",
    watchtowerUrl: "https://www.jw.org/en/library/magazines/watchtower-study-december-2025/How-to-Plan-a-Wedding-That-Brings-Honor-to-Jehovah/",
    workbookUrl: "https://www.jw.org/en/library/jw-meeting-workbook/january-february-2026-mwb/Life-and-Ministry-Meeting-Schedule-for-February-23-March-1-2026/"
  }
];

// Function to get the current week's schedule
function getCurrentWeekSchedule() {
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  for (const week of MEETING_SCHEDULE) {
    const start = new Date(week.startDate);
    const end = new Date(week.endDate);
    end.setHours(23, 59, 59, 999);
    if (today >= start && today <= end) {
      return week;
    }
  }
  const futureWeeks = MEETING_SCHEDULE.filter(w => new Date(w.startDate) > today);
  if (futureWeeks.length > 0) {
    return futureWeeks[0];
  }
  return MEETING_SCHEDULE[MEETING_SCHEDULE.length - 1];
}

// Function to render the schedule on the page
function renderCurrentSchedule() {
  const schedule = getCurrentWeekSchedule();

  // Update header elements
  const weekInfo = document.querySelector('.week-info');
  if (weekInfo) {
    weekInfo.innerHTML = '<a href="' + schedule.workbookUrl + '" target="_blank" style="color:inherit;text-decoration:underline;">Week of ' + schedule.weekLabel + '</a>';
  }

  const themeElement = document.querySelector('.meeting-theme');
  if (themeElement) {
    themeElement.innerHTML = 'Midweek Meeting Theme: <a href="' + schedule.workbookUrl + '" target="_blank" style="color:inherit;text-decoration:underline;font-weight:bold;">"' + schedule.theme + '"</a>';
  }

  // Update scripture (linked to workbook)
  const scriptureVerse = document.querySelector('.scripture-verse');
  if (scriptureVerse) {
    scriptureVerse.innerHTML = '<a href="' + schedule.workbookUrl + '" target="_blank" style="color:inherit;text-decoration:none;">' + schedule.scripture + '</a>';
  }

  // Update focus scripture in morning routine
  const focusScriptureEl = document.querySelector('.focus-scripture-text');
  if (focusScriptureEl && schedule.focusScripture) {
    focusScriptureEl.textContent = schedule.focusScripture;
  }

  // Update Bible reading (linked to workbook)
  const bibleReadingEl = document.querySelector('.bible-reading-link');
  if (bibleReadingEl) {
    bibleReadingEl.innerHTML = '<a href="' + schedule.workbookUrl + '" target="_blank" style="color:var(--color-secondary);text-decoration:underline;">Bible Reading: ' + schedule.bibleReading + '</a>';
  }

  // Update Treasures talk (linked to workbook)
  const treasuresEl = document.querySelector('.treasures-link');
  if (treasuresEl) {
    treasuresEl.innerHTML = '<a href="' + schedule.workbookUrl + '" target="_blank" style="color:inherit;text-decoration:underline;">Treasures Talk: "' + schedule.treasuresTalk + '"</a>';
  }

  // Update workbook link
  const workbookLink = document.querySelector('.workbook-link');
  if (workbookLink) {
    workbookLink.href = schedule.workbookUrl;
  }

  // Update weekend meeting - Watchtower Study Article (linked)
  const wtArticleEl = document.querySelector('.wt-article-title');
  if (wtArticleEl && schedule.watchtowerArticle) {
    wtArticleEl.innerHTML = '<a href="' + schedule.watchtowerUrl + '" target="_blank" style="color:inherit;text-decoration:underline;">' + schedule.watchtowerArticle + '</a>';
  }

  console.log('Schedule loaded for:', schedule.weekLabel);
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', renderCurrentSchedule);
